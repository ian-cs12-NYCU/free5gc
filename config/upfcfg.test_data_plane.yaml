version: 1.0.4
description: UPF initial local configuration

# The listen IP and nodeID of the N4 interface on this UPF (Can't set to 0.0.0.0)
pfcp:
  addr: 10.200.200.101   # IP addr for listening
  nodeID: 10.200.200.101 # External IP or FQDN can be reached
  retransTimeout: 1s # retransmission timeout
  maxRetrans: 3 # the max number of retransmission

gtpu:
  forwarder: gtp5g
  # The IP list of the N3/N9 interfaces on this UPF
  # If there are multiple connection, set addr to 0.0.0.0 or list all the addresses
  ifList:
    - addr: 10.200.200.102
      type: N3
      # name: upf.5gc.nctu.me
      # ifname: gtpif

# The DNN list supported by UPF
dnnList:
  - dnn: internet # Data Network Name
    cidr: 10.60.0.0/16 # Classless Inter-Domain Routing for assigned IPv4 pool of UE
    # natifname: eth0

# SBI Configuration
sbi:
  scheme: http # the protocol for sbi (http or https)
  registerIp: 10.200.200.103 # IP used to register to NRF, support IPv4 only
  bindingIp: 10.200.200.103  # IP used to bind the service, support IPv4 only
  port: 8000 # port used to bind the service
  tls: # the local path of TLS key
    pem: cert/upf.pem # AMF TLS Certificate
    key: cert/upf.key # AMF TLS Private key
  nrfUri: http://10.200.200.3:8000 # NRF URI

# TODO:
# Configuration Drift Issue:
# Hardcoding the interface name in the configuration file can lead to inconsistencies between the configuration and the actual GTP5G interface. If GTP5G changes the interface name, the configuration will become invalid.
ebpf:
  interfaceName: upfgtp

logger: # log output setting
  enable: true # true or false
  level: info # how detailed to output, value: trace, debug, info, warn, error, fatal, panic
  reportCaller: false # enable the caller report or not, value: true or false
